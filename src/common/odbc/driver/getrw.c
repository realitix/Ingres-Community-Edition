/*
** Copyright (c) 2004 Actian Corporation
**
** Name: CAIIRW.C
**
** Description:
**      Defines GetReadOnly routine to read the DSN registry definition for
**      read-only capability for default read/write DLL. 
**
** History:
**      07-mar-2003 (loera01)
**          Created.
**      19-mar-2003 (loera01)
**          Made compatible with Unix/Linux.
**      06-may-2004 (loera01)
**          Added idmsodbc.h so that the driver version of 
**          SQLGetPrivateProfileString() is executed on Unix.
**      13-Jul-2011 (hanal04) SIR 125458
**          Update cs_elog calls inline with sc0e_putAsFcn changes.
*/
#include <compat.h>
#include <iicommon.h>
#include <cm.h>
#include <sql.h>
#include <sqlext.h>
#include <sqlca.h>
#ifdef _WIN32
#include <odbcinst.h>
#endif /* _WIN32 */
#include <idmsxsq.h>                /* control block typedefs */
#include <idmsutil.h>               /* utility stuff */
#include "idmsoids.h"               /* string ids */
#include <idmseini.h>               /* ini file keys */
#include "idmsodbc.h"

BOOL GetReadOnly(char *dsn)
{
    char readOnly[2] = "\0";

    SQLGetPrivateProfileString (dsn, KEY_READONLY, "", readOnly,
        sizeof(readOnly),ODBC_INI);
    if (!CMcmpnocase(&readOnly[0],"Y"))
        return 1;
    return 0;
}

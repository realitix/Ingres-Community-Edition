/*
**	Copyright (c) 2004 Actian Corporation
*/

# include	<compat.h>
# include	<er.h>
# include	<gl.h>
# include	<sl.h>
# include	<iicommon.h>
# include	<fe.h>
# include	<g4funcs.h>


/**
** Name:	g4xfer.c - Set up transfers to EXEC 4GL routines.
**
** Description:
**	This file defines:
**
**	IIG4xfers	Get transfer table.
**
** History:
**	16-dec-92 (davel)
**		Initial version, based on W4GL version developed by MikeS.
**	21-jan-1999 (hanch04)
**	    replace nat and longnat with i4
**	31-aug-2000 (hanch04)
**	    cross change to main
**	    replace nat and longnat with i4
**/

/* # define's */
/* GLOBALDEF's */
/* extern's */
/* static's */
static	AG4XFERS *xfertbl;


/*{
** Name:	IIG4xfers - Get transfer table.
**
** Description:
**	This routine is called to initialize the transfer vectors for the
**	EXEC 4GL support routines.
**
** Inputs:
**	table		transfer vector table
**
** Side Effects:
**	sets the static xfertbl
**
** History:
**	16-dec-92 (davel)
**		Initial version, based on W4GL version developed by MikeS.
*/
VOID
IIG4xfers(AG4XFERS *table)
{
    xfertbl = table;
}

/*
** What follow are the definitions of the functions, calls to which are
** generated by the EXEC 4GL pre-processor.  They simply vector to the
** routines which do the real work.  See those routines for detailed 
** discussion of the interfaces.
*/

STATUS
IIG4acArrayClear(array)
i4 array;
{
    return (*xfertbl->arrayclear)(array);
}

STATUS
IIG4bpByrefParam(ind, isval, type, length, data, name)
i2	*ind;
i4	isval;
i4	type;
i4	length;
PTR	data;
char	*name;
{
    return (*xfertbl->byrefparam)(ind, isval, type, length, data, name);
}

STATUS
IIG4ccCallComp()
{
    return (*xfertbl->callcomponent)();
}

STATUS
IIG4chkobj(object, access, index, caller)
i4 object;
i4  access;
i4  index;
i4  caller;
{
    return (*xfertbl->checkobj)(object, access, index, caller);
}

STATUS
IIG4drDelRow(array, index)
i4 array;
i4  index;
{
    return (*xfertbl->delrow)(array, index);
}

STATUS
IIG4fdFillDscr(object, language, sqlda)
i4 object;
i4  language;
IISQLDA *sqlda;
{
    return (*xfertbl->filldescr)(object, language, sqlda);
}

STATUS
IIG4gaGetAttr(ind, isvar, type, length, data, name)
i2	*ind;
i4	isvar;
i4	type;
i4	length;
PTR	data;
char	*name;
{
    return (*xfertbl->getattr)(ind, isvar, type, length, data, name);
}

STATUS
IIG4ggGetGlobal(ind, isvar, type, length, data, name, gtype)
i2	*ind;
i4	isvar;
i4	type;
i4	length;
PTR	data;
char	*name;
i4	gtype;
{
    return (*xfertbl->getglobal)(ind, isvar, type, length, data, name, gtype);
}

STATUS
IIG4grGetRow(rowind, isvar, rowtype, rowlen, rowptr, array, index)
i2 *rowind;
i4  isvar;
i4  rowtype;
i4  rowlen;
PTR rowptr;
i4 array;
i4  index;
{
    return (*xfertbl->getrow)
	(rowind, isvar, rowtype, rowlen, rowptr, array, index);
}

STATUS
IIG4i4Inq4GL(ind, isvar, type, length, data, object, code)
i2      *ind;
i4	isvar;
i4      type;
i4      length;
PTR     data;
i4	object;
i4	code;
{
    return (*xfertbl->inq4gl)(ind, isvar, type, length, data, object, code);
}

STATUS
IIG4icInitCall(name, type)
char	*name;
i4	type;
{
    return (*xfertbl->initcall) (name, type);
}

STATUS
IIG4irInsRow(array, index, row, state, which)
i4 array;
i4  index;
i4  row;
i4  state;
i4  which;
{
    return (*xfertbl->insrow)(array, index, row, state, which);
}

STATUS
IIG4rrRemRow(array, index)
i4 array;
i4  index;
{
    return (*xfertbl->remrow)(array, index);
}

STATUS
IIG4rvRetVal(ind, isval, type, length, data)
i2      *ind;
i4      isval;
i4      type;
i4      length;
PTR     data;
{
    return (*xfertbl->retval) (ind, isval, type, length, data);
}

STATUS
IIG4s4Set4GL(object, code, ind, isvar, type, length, data)
i4	object;
i4	code;
i2      *ind;
i4	isvar;
i4      type;
i4      length;
PTR     data;
{
    return (*xfertbl->set4gl)(object, code, ind, isvar, type, length, data);
}

STATUS
IIG4saSetAttr(name, ind, isvar, type, length, data)
char	*name;
i2	*ind;
i4	isvar;
i4	type;
i4	length;
PTR	data;
{
    return (*xfertbl->setattr)(name, ind, isvar, type, length, data);
}

STATUS
IIG4seSendEvent(frame)
i4	frame;
{
    return (*xfertbl->sendevent)(frame);
}

STATUS
IIG4sgSetGlobal(name, ind, isvar, type, length, data)
char	*name;
i2	*ind;
i4	isvar;
i4	type;
i4	length;
PTR	data;
{
    return (*xfertbl->setglobal)(name, ind, isvar, type, length, data);
}

STATUS
IIG4srSetRow(array, index, row)
i4 array;
i4  index;
i4 row;
{
    return (*xfertbl->setrow)(array, index, row);
}

STATUS
IIG4udUseDscr(language, direction, sqlda)
i4  language;
i4  direction;
IISQLDA *sqlda;
{
    return (*xfertbl->updatedescr) (language, direction, sqlda);
}

STATUS
IIG4vpValParam(name, ind, isval, type, length, data)
char	*name;
i2	*ind;
i4	isval;
i4	type;
i4	length;
PTR	data;
{
    return (*xfertbl->valparam)(name, ind, isval, type, length, data);
}

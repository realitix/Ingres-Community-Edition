<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0017)http://localhost/ -->
<html>
<head>
<title> How a Connection Is Made </title>
<link rel="stylesheet" TYPE="text/css" HREF="stylesheet.css">
<meta name="Generator" content="AITPublish">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="Keywords" content="Connect function, xajax">
<link rel="stylesheet" href="stylesheet.css">
<script language="javascript" type="text/javascript" src="dhtml_toc.js"></script>
</HEAD>
<body  onload="if (isTOCLoaded()) {expand('3425');expand('3326');expand('3319');highlight('3311')}">
<table cellpadding="0" cellspacing="0" border="0">
<tr valign="top">
<td width= "0">
<p class="bodytext"><a href="instance_form.htm" target="_self"><img src="574.png" alt="Previous Topic" height="16px" width="16px" vspace="0" hspace="0" align="bottom" border="0"></a></p></td>
</tr>
</table>
<h4 class="heading4">How a Connection Is Made</h4>
<p class="bodytext">The Change button onClick event is handled by the xajax function changeConnectionProfile in <a href="showSource.php?file=connectAJAX" target=_blank">connect.ajax.php</a>.</p>
<p class="bodytext">The event handler performs the following tasks:</p>
<ul class="listbullet"><li class="listbullet">Tests each of the instance form controls for a value.</li><li class="listbullet">Extracts the values from the instance form controls.</li><li class="listbullet">Saves the values in the session variables.</li><li class="listbullet">Sets cookies for the appropriate values if the user wants to make the connection definition the default.</li></ul><p class="bodytext">The next time a new instance of <a href="showSource.php?file=DBConnection" target="_blank">DBConnection</a> is created, the constructor of <a href="showSource.php?file=DBConnection" target="_blank">DBConnection</a> assembles the connection string from the session variables. The connection string uses a vnode definition. For details, see the <em class="emphasis">Connectivity Guide</em>.</p>
<p class="codefirst">if(isset($_SESSION['host']) &amp;&amp; $_SESSION['host'] != &quot;(local)&quot;)</p>
<p class="code">{</p>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;$connectString = &quot;@&quot;;</p>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;$connectString .= $_SESSION['host'].&quot;,&quot;;</p>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;$connectString .= &quot;tcp_ip,&quot;;</p>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;$connectString .= $_SESSION['instance'];</p>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;$connectString .= [&quot;.$_SESSION['user'].&quot;,&quot;.$_SESSION['password'].&quot;]&quot;;</p>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;$connectString .= &quot;::&quot;.$_SESSION['database'];</p>


<p>
<hr>
<font size="-2" face="Verdana">
&#0169;&nbsp;<authorit:cdate>2007 Actian Corporation.  
All rights reserved.<br> &nbsp;
</font>
</body>
</html>


